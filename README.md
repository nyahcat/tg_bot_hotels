# tg_bot_hotels
Pet tg-bot parser API hotels.com 
Реализован на python 3.9 и библиотеки pyTelegramBotAPI (дополнительно смотреть в requirements.txt).
Парсер отелей с сервиса rapidapi.com: парсит отели с сайта hotels.com по заранее созданным запросам. Запросы создаются в меню бота посредством кнопок в чате. Для каждого юзера создается свой экземпляр класса (user), в атрибуты которого набираются конфигруации запроса.  После отпраки запроса получает ответ от сервера, в котором с помощью RegEx извлекаются нужные сведения и формируются ответными сообщениями (включая фотографии). После получения ответа в месте запуска программы создается файл history.db (postgre_sql -> для взаимодействия используется библиотека peewee), в котором лежит история поиска. По обращению конкретного юзера может быть вызвана ответным сообщением в чате, или удалена. 
Для корректной работы программы предусмотрена развёртка на локальном порте с помощью ngrok. В зависимости от используемой ОС загружается автоматически к временным файлам системы. Также для корректной работы необходимы ключи ботов в тг, ключ от rapidapi (.env.template)
